<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rus Kurumları Veri Girişi</title>
    <link rel="stylesheet" href="style.css">
    <style>
        #submitBtn {
            background-color: #3498db !important;
            color: white !important;
            border: none !important;
            padding: 12px 20px !important;
            font-size: 16px !important;
            border-radius: 4px !important;
            cursor: pointer !important;
            transition: background-color 0.3s !important;
            display: block !important;
            width: 100% !important;
        }
        
        #submitBtn:hover {
            background-color: #2980b9 !important;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Rus Kurumları Veri Girişi</h1>
        
        <form id="institutionForm" name="russian-institutions" method="POST" data-netlify="true">
            <input type="hidden" name="form-name" value="russian-institutions">
            
            <div class="form-group">
                <label for="plaka">Plaka Kodu:</label>
                <input type="text" id="plaka" name="plaka" placeholder="Örn: TR06" required>
                <span class="format-hint">Örnek: TR06, TR34, TR01</span>
            </div>
            
            <div class="form-group">
                <label for="name">Kurum Adı:</label>
                <input type="text" id="name" name="name" placeholder="Örn: Rus Evi Ankara Русский дом в Анкаре" required>
                <span class="format-hint">Türkçe ve Rusça isim birlikte yazılabilir</span>
            </div>
            
            <div class="form-group">
                <label for="description">Açıklama:</label>
                <textarea id="description" name="description" placeholder="Örn: Rossotrudniçestvo Türkiye Temsilciliği" required></textarea>
                <span class="format-hint">Kurumun kısa açıklaması</span>
            </div>
            
            <div class="form-group">
                <label for="type">Tür:</label>
                <select id="type" name="type" required>
                    <option value="">Seçiniz</option>
                    <option value="Büyükelçilik">Büyükelçilik</option>
                    <option value="Konsolosluk">Konsolosluk</option>
                    <option value="Kültür">Kültür</option>
                    <option value="Ticaret">Ticaret</option>
                    <option value="Üniversite">Üniversite</option>
                    <option value="Diğer">Diğer</option>
                </select>
                <span class="format-hint">Listeden uygun kurumsal türü seçin</span>
            </div>
            
            <div class="form-group">
                <label for="address">Adres:</label>
                <textarea id="address" name="address" placeholder="Örn: Rabindranath Tagore Cd. No:68, 06550 Çankaya/Ankara" required></textarea>
                <span class="format-hint">Tam adres bilgisi (sokak, numara, mahalle, ilçe, il)</span>
            </div>
            
            <div class="form-group">
                <label for="website">Website:</label>
                <input type="text" id="website" name="website" placeholder="Örn: turkiye.rs.gov.ru" required>
                <span class="format-hint">Sadece alan adı yazın (http:// veya https:// eklemeden)</span>
            </div>
            
            <button type="submit" id="submitBtn">Gönder</button>
        </form>
        
        <div id="message" class="message"></div>
        
        <div class="existing-data">
            <h2>Mevcut Kurumlar</h2>
            <div id="institutionsList"></div>
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('institutionForm');
            form.addEventListener('submit', function(e) {
            });
            fetch('/data/russian_institutions.json')
                .then(response => response.json())
                .then(data => {
                    displayInstitutions(data);
                })
                .catch(error => {
                    console.error('Veri yüklenirken hata:', error);
                });
            
            function displayInstitutions(data) {
                const institutionsList = document.getElementById('institutionsList');
                institutionsList.innerHTML = '';
                
                Object.keys(data).forEach(plaka => {
                    const institutions = data[plaka];
                    
                    const plakaTitle = document.createElement('h3');
                    plakaTitle.textContent = `${plaka} Bölgesi`;
                    institutionsList.appendChild(plakaTitle);
                    
                    institutions.forEach(institution => {
                        const card = document.createElement('div');
                        card.className = 'institution-card';
                        
                        const typeTag = document.createElement('span');
                        typeTag.className = 'tag';
                        typeTag.textContent = institution.type;
                        
                        const name = document.createElement('h3');
                        name.textContent = institution.name;
                        
                        const description = document.createElement('p');
                        description.textContent = institution.description;
                        
                        const address = document.createElement('p');
                        address.innerHTML = `<strong>Adres:</strong> ${institution.address}`;
                        
                        const website = document.createElement('p');
                        website.innerHTML = `<strong>Website:</strong> <a href="https://${institution.website}" target="_blank">${institution.website}</a>`;
                        
                        card.appendChild(typeTag);
                        card.appendChild(name);
                        card.appendChild(description);
                        card.appendChild(address);
                        card.appendChild(website);
                        
                        institutionsList.appendChild(card);
                    });
                });
            }
        });
    </script>
    
    <script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>
    <script>
      function addDarkmodeWidget() {
        const options = {
          bottom: '32px',
          right: '32px',
          time: '0.5s',
          mixColor: '#fff',
          backgroundColor: '#fff',
          buttonColorDark: '#100f2c',
          buttonColorLight: '#fff',
          saveInCookies: true,
          label: '🌓',
          autoMatchOsTheme: true
        };
        
        const darkmode = new Darkmode(options);
        darkmode.showWidget();
      }
      window.addEventListener('load', addDarkmodeWidget);
    </script>
</body>
</html>
